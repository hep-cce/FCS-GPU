# HMATools

This is a Python package to parse and plot logfiles produced by [FastCaloSim](https://github.com/hep-cce/FCS-GPU) and other HEPMiniApps (HMA).

## Installation? Should it become its own repo?

```sh
pip install git+https://github.com/lorenz369/self_hosted_runner#egg=hmatools
```


## Usage

### Postprocessing
The `hma_result.py` currently processes log files generated by FastCaloSim. To parse an entire directory or a single log file, provide its input path (-i/--input), and provide the output directory/filepath (-o/--output) where you want to save the processed JSON file. The script will search for log files in the specified path, and save the processed results as a JSON file in the output directory.

Example usage:

```sh
postprocess --input ./logs --output ./output
```

## Plotting

The `plot.py` script generates visualizations from the JSON files produced by the `postprocess.py` script. This script reads the JSON files from a specified directory and creates bar plots comparing different technologies and kernel run times. The plots are saved in the specified output directory.

Example usage:

```sh
python plot.py /path/to/jsonfiles /path/to/output
```


# Debugging Ideas
Consider setting these bash-configurations in your bash scripts to debug the execution of these bash scripts:
set -e  # Exit immediately if a command exits with a non-zero status.
set -x  # Print commands and their arguments as they are executed.